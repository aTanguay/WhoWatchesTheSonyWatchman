[platformio]
default_envs = esp32dev

[env]
platform = espressif32
framework = espidf
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

# Build flags
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM

# Partition table
board_build.partitions = partitions.csv

# ESP-IDF specific settings
board_build.embed_files =
board_build.embed_txtfiles =
    sdkconfig.defaults

[env:esp32dev]
board = esp32dev
build_flags =
    ${env.build_flags}
    -DCONFIG_ESP_DEFAULT_CPU_FREQ_MHZ_240=1
    -DCONFIG_FREERTOS_HZ=1000

[env:esp32-s3-devkitc-1]
board = esp32-s3-devkitc-1
build_flags =
    ${env.build_flags}
    -DCONFIG_ESP_DEFAULT_CPU_FREQ_MHZ_240=1
    -DCONFIG_FREERTOS_HZ=1000

# Upload settings
upload_speed = 921600
upload_port = /dev/ttyUSB0

# Monitor settings
monitor_port = /dev/ttyUSB0

# Dependencies (ESP-IDF components are built-in)
lib_deps =
